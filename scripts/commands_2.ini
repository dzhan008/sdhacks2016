[script]
n0=;--------------------------ACTUAL CODE---------------------------------
n1=set var %current_topic
n2=
n3=
n4=on *:TEXT:!createTopicList:#: {
n5=
n6=  ;check to see that the file exists first if does not then return
n7=  if (!$isfile(topics.txt)) {
n8=    msg $chan ERROR: Your topics.txt is not here.
n9=    return;
n10=  }
n11=
n12=  ;check to see if topic hash currently exists if so then do nothing
n13=  if ($hget(randomlySelectedTopic)) {
n14=    msg $chan ERROR: Your list already exists.
n15=    return;
n16=  }
n17=
n18=  ;create the hash table and initialize the iterator
n19=  /hmake randomlySelectedTopic
n20=  var %i = 1
n21=
n22=  ;loop through the file
n23=  while ($read(topics.txt, nr, ^[a-zA-Z0-9_ ]*$, $calc($readn + 1))) {
n24=    hadd -s randomlySelectedTopic %i $v1
n25=    ;msg $chan %i $v1
n26=    inc %i
n27=  }
n28=
n29=  ;list out the topics to the user
n30=  %i = 1
n31=
n32=  while ($hget(randomlySelectedTopic, %i).item) {
n33=    ; print the key/value pair
n34=    ;msg $chan %i $+ ) $hget(randomlySelectedTopic, $v1)
n35=    inc %i
n36=  }
n37=
n38=  msg $chan Topics created.
n39=
n40=}
n41=
n42=on *:TEXT:!listTopics:#: {
n43=
n44=  ;check to see if topic hash currently exists if so then do nothing
n45=  if (!$hget(randomlySelectedTopic)) {
n46=    msg $chan ERROR: Your list does not exist.
n47=    return;
n48=  }
n49=
n50=  var %i = 1
n51=
n52=  while ($hget(randomlySelectedTopic, %i).item) {
n53=    ; print the key/value pair
n54=    msg $chan %i $+ ) $hget(randomlySelectedTopic, $v1)
n55=    inc %i
n56=  }
n57=}
n58=
n59=on *:TEXT:!selectRandomTopic:#: {
n60=  ;create a random number from 1 to the size of the topic list
n61=  var %rand = $rand(1, $hget(randomlySelectedTopic, 0).item)
n62=  %current_topic = $hget(randomlySelectedTopic, %rand) 
n63=  ;msg $chan The topic selected is: %current_topic
n64=}
n65=
n66=;--------TODO-------------
n67=on *:TEXT:!deleteTopic:#: {
n68=
n69=  ;deletes an index  
n70=  ;msg $chan The topic $hget(randomlySelectedTopic, <insert-number-here>)
n71=
n72=  ;hdel randomlySelectedTopic <insert-number-here> 
n73=}
n74=
n75=;--------TODO-------------
n76=on *:TEXT:!selectTopic &:#: {
n77=
n78=  ;select an index  
n79=  %current_topic = $hget(randomlySelectedTopic, $2)
n80=  ;msg $chan The topic selected is: %current_topic
n81=}
n82=
n83=on *:TEXT:!chooseTopicRandomly:#: {
n84=  ;create a random number from 1 to the size of the topic list
n85=  var %rand = $rand(1, $hget(randomlySelectedTopic, 0).item)
n86=
n87=  msg $chan The topic selected is: $hget(randomlySelectedTopic, %rand) 
n88=}
n89=
n90=on *:TEXT:!clearTopics:#:{
n91=  if ($hget(randomlySelectedTopic)) {
n92=    /hfree randomlySelectedTopic
n93=    msg $chan Topic list has been cleared.
n94=  }
n95=  else {
n96=    msg $chan There is no topic list to clear.
n97=  }  
n98=}
n99=;-------------------END OF ACTUAL CODE-----------------------------------------------------

[script]
n0=;--------------------------ACTUAL CODE---------------------------------
n1=
n2=on *:TEXT:!createTopicList:#: {
n3=
n4=  ;check to see that the file exists first if does not then return
n5=  if (!$isfile(topics.txt)) {
n6=    msg $chan ERROR: Your topics.txt is not here.
n7=    return;
n8=  }
n9=
n10=  ;check to see if topic hash currently exists if so then do nothing
n11=  if ($hget(randomlySelectedTopic)) {
n12=    msg $chan ERROR: Your list already exists.
n13=    return;
n14=  }
n15=
n16=  ;create the hash table and initialize the iterator
n17=  /hmake randomlySelectedTopic
n18=  var %i = 1
n19=
n20=  ;loop through the file
n21=  while ($read(topics.txt, nr, ^[a-zA-Z0-9_ ]*$, $calc($readn + 1))) {
n22=    hadd -s randomlySelectedTopic %i $v1
n23=    msg $chan %i $v1
n24=    inc %i
n25=  }
n26=
n27=  ;list out the topics to the user
n28=  %i = 1
n29=
n30=  while ($hget(randomlySelectedTopic, %i).item) {
n31=    ; print the key/value pair
n32=    msg $chan %i $+ ) $v1 => $hget(randomlySelectedTopic, $v1)
n33=    inc %i
n34=  }
n35=
n36=}
n37=
n38=on *:TEXT:!listTopics:#: {
n39=
n40=  ;check to see if topic hash currently exists if so then do nothing
n41=  if (!$hget(randomlySelectedTopic)) {
n42=   msg $chan ERROR: Your list does not exist.
n43=    return;
n44=  }
n45=
n46=  var %i = 1
n47=
n48=  while ($hget(randomlySelectedTopic, %i).item) {
n49=    ; print the key/value pair
n50=    msg $chan %i $+ ) %i => $hget(randomlySelectedTopic, $v1)
n51=    inc %i
n52=  }
n53=}
n54=
n55=on *:TEXT:!chooseTopicRandomly:#: {
n56=  ;create a random number from 1 to the size of the topic list
n57=  var %rand = $rand(1, $hget(randomlySelectedTopic, 0).item)
n58=
n59=  msg $chan The topic selected is: $hget(randomlySelectedTopic, %rand) 
n60=}
n61=
n62=;--------TODO-------------
n63=on *:TEXT:!deleteTopic:#: {
n64=
n65=  ;deletes an index  
n66=  ;msg $chan The topic $hget(randomlySelectedTopic, <insert-number-here>)
n67=
n68=  ;hdel randomlySelectedTopic <insert-number-here> 
n69=}
n70=
n71=;--------TODO-------------
n72=on *:TEXT:!selectTopic &:#: {
n73=
n74=  ;select an index  
n75=  msg $chan The topic selected is: $hget(randomlySelectedTopic, $2)
n76=}
n77=
n78=on *:TEXT:!chooseTopicRandomly:#: {
n79=  ;create a random number from 1 to the size of the topic list
n80=  var %rand = $rand(1, $hget(randomlySelectedTopic, 0).item)
n81=
n82=  msg $chan The topic selected is: $hget(randomlySelectedTopic, %rand) 
n83=}
n84=
n85=on *:TEXT:!clearTopics:#:{
n86=  if ($hget(randomlySelectedTopic)) {
n87=   /hfree randomlySelectedTopic
n88=    msg $chan Topic list has been cleared.
n89=  }
n90=  else {
n91=    msg $chan There is no topic list to clear.
n92=  }  
n93=}
n94=;-------------------END OF ACTUAL CODE-----------------------------------------------------
